<%--Directiva que indica al navegador que es una pagina web --%>
<%@page contentType="text/html" pageEncoding="UTF-8"%>

<%--Expression: redirecciona a la pagina listarLibros.jsp--%>
<jsp:forward page="listarLibros.jsp"></jsp:forward>

<%--Directiva para embeber otro jsp--%>
<%@include file="css.jsp"%>


CODIGO HTML PARA LLAMAR AL SERVLET DESDE UN FORMULARIO
<form action="ServletName" method="post">
</form>



CODIGO PARA HACER UN LISTADO
<select name="categoria">
    <option value="0">Seleccione una categoria</option>
    <%--Utilizamos Scriplets para insertar codigo de Java puro--%>
    <% for(Categoria c:CategoriaDao.listar()) { %>
        <option value="<%=c.getCodigo()%>"> <%=c.getNombre()%> </option>
    <% } %>
</select>


CODIGO PARA RECIBIR RESPUESTA DEL SERVLET EN EL JSP

<%=(request.getAttribute("mensaje")!=null?request.getAttribute("mensaje"):"")%>

protected void doPost(HttpServletRequest request, HttpServletResponse response)
            throws ServletException, IOException {
        String nombre=request.getParameter("nombre");
        Categoria c =new Categoria();
        c.setNombre(nombre);
        if(CategoriaDao.registrar(c)){
            request.setAttribute("mensaje", "La categoria fue registrada.");
        } else {
            request.setAttribute("mensaje", "La categoria NO fue registrada.");
        }
        request.getRequestDispatcher("registroCategoria.jsp").forward(request, response);
    }
